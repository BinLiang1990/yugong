(this.webpackJsonpyugong=this.webpackJsonpyugong||[]).push([[136],{1122:function(e,t,n){"use strict";var r=n(10),i=n(24),a=n(17),o=n(1),s=n(805),u=n(9),c=n.n(u),l={adjustX:1,adjustY:1},d=[0,0],f={topLeft:{points:["bl","tl"],overflow:l,offset:[0,-4],targetOffset:d},topCenter:{points:["bc","tc"],overflow:l,offset:[0,-4],targetOffset:d},topRight:{points:["br","tr"],overflow:l,offset:[0,-4],targetOffset:d},bottomLeft:{points:["tl","bl"],overflow:l,offset:[0,4],targetOffset:d},bottomCenter:{points:["tc","bc"],overflow:l,offset:[0,4],targetOffset:d},bottomRight:{points:["tr","br"],overflow:l,offset:[0,4],targetOffset:d}};var v=o.forwardRef((function(e,t){var n=e.arrow,u=void 0!==n&&n,l=e.prefixCls,d=void 0===l?"rc-dropdown":l,v=e.transitionName,g=e.animation,h=e.align,m=e.placement,p=void 0===m?"bottomLeft":m,b=e.placements,y=void 0===b?f:b,F=e.getPopupContainer,O=e.showAction,j=e.hideAction,E=e.overlayClassName,N=e.overlayStyle,k=e.visible,V=e.trigger,w=void 0===V?["hover"]:V,S=Object(a.a)(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),P=o.useState(),C=Object(i.a)(P,2),x=C[0],I=C[1],M="visible"in e?k:x,R=o.useRef(null);o.useImperativeHandle(t,(function(){return R.current}));var A=function(){var t=e.overlay;return"function"===typeof t?t():t},T=function(t){var n=e.onOverlayClick,r=A().props;I(!1),n&&n(t),r.onClick&&r.onClick(t)},$=function(){var e=A(),t={prefixCls:"".concat(d,"-menu"),onClick:T};return"string"===typeof e.type&&delete t.prefixCls,o.createElement(o.Fragment,null,u&&o.createElement("div",{className:"".concat(d,"-arrow")}),o.cloneElement(e,t))},_=j;return _||-1===w.indexOf("contextMenu")||(_=["click"]),o.createElement(s.a,Object.assign({},S,{prefixCls:d,ref:R,popupClassName:c()(E,Object(r.a)({},"".concat(d,"-show-arrow"),u)),popupStyle:N,builtinPlacements:y,action:w,showAction:O,hideAction:_||[],popupPlacement:p,popupAlign:h,popupTransitionName:v,popupAnimation:g,popupVisible:M,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?$:$(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;I(t),"function"===typeof n&&n(t)},getPopupContainer:F}),function(){var t=e.children,n=t.props?t.props:{},r=c()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(d,"-open")}());return x&&t?o.cloneElement(t,{className:r}):t}())}));t.a=v},1347:function(e,t,n){"use strict";var r=n(3),i=n(10),a=n(76),o=n(24),s=n(17),u=n(1),c=n(9),l=n.n(c),d=n(106),f=n(226),v=n(66),g=n(60);function h(){return"function"===typeof BigInt}function m(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),a=i[0]||"0",o=i[1]||"0";"0"===a&&"0"===o&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:a,decimalStr:o,fullStr:"".concat(s).concat(r)}}function p(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function b(e){var t=String(e);if(p(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null===r||void 0===r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&F(t)?t.length-t.indexOf(".")-1:0}function y(e){var t=String(e);if(p(e)){if(e>Number.MAX_SAFE_INTEGER)return String(h()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(h()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(b(t))}return m(t).fullStr}function F(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var O=function(){function e(t){Object(v.a)(this,e),this.origin="",(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return Object(g.a)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(b(this.number),b(n));return new e(r.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.isInvalidate()?e?"":this.origin:y(this.number)}}]),e}(),j=function(){function e(t){if(Object(v.a)(this,e),this.origin="",(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(p(n)&&(n=Number(n)),F(n="string"===typeof n?n:y(n))){var r=m(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var a=i[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return Object(g.a)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=m((this.alignDecimal(r)+n.alignDecimal(r)).toString()),a=i.negativeStr,o=i.trimStr,s="".concat(a).concat(o.padStart(r+1,"0"));return new e("".concat(s.slice(0,-r),".").concat(s.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.isInvalidate()?e?"":this.origin:m("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr}}]),e}();function E(e){return h()?new j(e):new O(e)}function N(e,t,n){if(""===e)return"";var r=m(e),i=r.negativeStr,a=r.integerStr,o=r.decimalStr,s="".concat(t).concat(o),u="".concat(i).concat(a);if(n>=0){var c=Number(o[n]);return c>=5?N(E(e).add("0.".concat("0".repeat(n)).concat(10-c)).toString(),t,n):0===n?u:"".concat(u).concat(t).concat(o.padEnd(n,"0").slice(0,n))}return".0"===s?u:"".concat(u).concat(s)}var k=n(799);function V(e){var t=e.prefixCls,n=e.upNode,a=e.downNode,o=e.upDisabled,s=e.downDisabled,c=e.onStep,d=u.useRef(),f=u.useRef();f.current=c;var v=function(e,t){e.preventDefault(),f.current(t),d.current=setTimeout((function e(){f.current(t),d.current=setTimeout(e,200)}),600)},g=function(){clearTimeout(d.current)};if(u.useEffect((function(){return g}),[]),Object(k.a)())return null;var h="".concat(t,"-handler"),m=l()(h,"".concat(h,"-up"),Object(i.a)({},"".concat(h,"-up-disabled"),o)),p=l()(h,"".concat(h,"-down"),Object(i.a)({},"".concat(h,"-down-disabled"),s)),b={unselectable:"on",role:"button",onMouseUp:g,onMouseLeave:g};return u.createElement("div",{className:"".concat(h,"-wrap")},u.createElement("span",Object(r.a)({},b,{onMouseDown:function(e){v(e,!0)},"aria-label":"Increase Value","aria-disabled":o,className:m}),n||u.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),u.createElement("span",Object(r.a)({},b,{onMouseDown:function(e){v(e,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:p}),a||u.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var w=n(125);var S=n(290),P=Object(S.a)()?u.useLayoutEffect:u.useEffect;function C(e,t){var n=u.useRef(!1);P((function(){if(n.current)return e();n.current=!0}),t)}var x=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},I=function(e){var t=E(e);return t.isInvalidate()?null:t},M=u.forwardRef((function(e,t){var n,c=e.prefixCls,v=void 0===c?"rc-input-number":c,g=e.className,h=e.style,m=e.min,p=e.max,O=e.step,j=void 0===O?1:O,k=e.defaultValue,S=e.value,P=e.disabled,M=e.readOnly,R=e.upHandler,A=e.downHandler,T=e.keyboard,$=e.stringMode,_=e.parser,D=e.formatter,U=e.precision,L=e.decimalSeparator,H=e.onChange,W=e.onInput,q=e.onPressEnter,G=e.onStep,B=Object(s.a)(e,["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"]),X="".concat(v,"-input"),z=u.useRef(null),J=u.useState(!1),K=Object(o.a)(J,2),Y=K[0],Q=K[1],Z=u.useRef(!1),ee=u.useRef(!1),te=u.useState((function(){return E(null!==k&&void 0!==k?k:S)})),ne=Object(o.a)(te,2),re=ne[0],ie=ne[1];var ae=u.useCallback((function(e,t){return U>=0?U:t?void 0:Math.max(b(e),b(j))}),[U,j]),oe=u.useCallback((function(e){var t=String(e);if(_)return _(t);var n=t;return L&&(n=n.replace(L,".")),n.replace(/[^\w.-]+/g,"")}),[_,L]),se=u.useCallback((function(e,t){if(D)return D(e);var n="number"===typeof e?y(e):e;if(!t){var r=ae(n,t);if(F(n)&&(L||r>=0))n=N(n,L||".",r)}return n}),[D,ae,L]),ue=u.useState((function(){var e=null!==k&&void 0!==k?k:S;return re.isInvalidate()&&["string","number"].includes(Object(a.a)(e))?Number.isNaN(e)?"":e:se(re.toString(),!1)})),ce=Object(o.a)(ue,2),le=ce[0],de=ce[1];function fe(e,t){de(se(e.toString(!1),t))}var ve,ge=u.useMemo((function(){return I(p)}),[p]),he=u.useMemo((function(){return I(m)}),[m]),me=u.useMemo((function(){return!(!ge||!re||re.isInvalidate())&&ge.lessEquals(re)}),[ge,re]),pe=u.useMemo((function(){return!(!he||!re||re.isInvalidate())&&re.lessEquals(he)}),[he,re]),be=function(e,t){var n=Object(u.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,i=e.value,a=i.substring(0,t),o=i.substring(r);n.current={start:t,end:r,value:i,beforeTxt:a,afterTxt:o}}catch(s){}},function(){if(e&&n.current&&t)try{var r=e.value,i=n.current,a=i.beforeTxt,o=i.afterTxt,s=i.start,u=r.length;if(r.endsWith(o))u=r.length-n.current.afterTxt.length;else if(r.startsWith(a))u=a.length;else{var c=a[s-1],l=r.indexOf(c,s-1);-1!==l&&(u=l+1)}e.setSelectionRange(u,u)}catch(d){Object(w.a)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(d.message))}}]}(z.current,Y),ye=Object(o.a)(be,2),Fe=ye[0],Oe=ye[1],je=function(e){return ge&&!e.lessEquals(ge)?ge:he&&!he.lessEquals(e)?he:null},Ee=function(e,t){var n,r=e;if(r.isEmpty()||(r=je(r)||r),!M&&!P){var i=r.toString(),a=ae(i,t);return a>=0&&(r=E(N(i,".",a))),r.equals(re)||(n=r,void 0===S&&ie(n),null===H||void 0===H||H(r.isEmpty()?null:x($,r)),void 0===S&&fe(r,t)),r}return re},Ne=function(e){if(Fe(),de(e),!ee.current){var t=E(oe(e));t.isInvalidate()||Ee(t,!0)}},ke=function(e){var t;if(!(e&&me||!e&&pe)){Z.current=!1;var n=E(j);e||(n=n.negate());var r=(re||E(0)).add(n.toString()),i=Ee(r,!1);null===G||void 0===G||G(x($,i),{offset:j,type:e?"up":"down"}),null===(t=z.current)||void 0===t||t.focus()}},Ve=function(){var e=E(oe(le)),t=e;t=e.isNaN()?re:Ee(e,!0),void 0!==S?fe(re,!1):t.isNaN()||fe(t,!1)};return C((function(){re.isInvalidate()||fe(re,!1)}),[U]),C((function(){var e=E(S);ie(e),(e.isNaN()||!Z.current||D)&&fe(e,!1)}),[S]),C((function(){D&&Oe()}),[le]),u.createElement("div",{className:l()(v,g,(n={},Object(i.a)(n,"".concat(v,"-focused"),Y),Object(i.a)(n,"".concat(v,"-disabled"),P),Object(i.a)(n,"".concat(v,"-readonly"),M),Object(i.a)(n,"".concat(v,"-not-a-number"),re.isNaN()),Object(i.a)(n,"".concat(v,"-out-of-range"),!re.isInvalidate()&&(ve=re,!!je(ve))),n)),style:h,onFocus:function(){Q(!0)},onBlur:function(){Ve(),Q(!1)},onKeyDown:function(e){var t=e.which;Z.current=!0,t===d.a.ENTER&&(ee.current||(Z.current=!1),Ve(),null===q||void 0===q||q(e)),!1!==T&&!ee.current&&[d.a.UP,d.a.DOWN].includes(t)&&(ke(d.a.UP===t),e.preventDefault())},onKeyUp:function(){Z.current=!1},onCompositionStart:function(){ee.current=!0},onCompositionEnd:function(){ee.current=!1,Ne(z.current.value)}},u.createElement(V,{prefixCls:v,upNode:R,downNode:A,upDisabled:me,downDisabled:pe,onStep:ke}),u.createElement("div",{className:"".concat(X,"-wrap")},u.createElement("input",Object(r.a)({autoComplete:"off",role:"spinbutton","aria-valuemin":m,"aria-valuemax":p,"aria-valuenow":re.isInvalidate()?null:re.toString(),step:j},B,{ref:Object(f.a)(z,t),className:X,value:le,onChange:function(e){var t=e.target.value;_||(t=t.replace(/\u3002/g,".")),Ne(t),null===W||void 0===W||W(t)},disabled:P,readOnly:M}))))}));M.displayName="InputNumber";var R=M;t.a=R},397:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(125),a="RC_FORM_INTERNAL_HOOKS",o=function(){Object(i.a)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},s=r.createContext({getFieldValue:o,getFieldsValue:o,getFieldError:o,getFieldsError:o,isFieldsTouched:o,isFieldTouched:o,isFieldValidating:o,isFieldsValidating:o,resetFields:o,setFields:o,setFieldsValue:o,validateFields:o,submit:o,getInternalHooks:function(){return o(),{dispatch:o,initEntityValue:o,registerField:o,useSubscribe:o,setInitialValues:o,setCallbacks:o,getFields:o,setValidateMessages:o,setPreserve:o}}});t.b=s},505:function(e,t,n){"use strict";n.r(t),n.d(t,"Field",(function(){return X})),n.d(t,"List",(function(){return z})),n.d(t,"useForm",(function(){return ee})),n.d(t,"FormProvider",(function(){return ne}));var r=n(1),i=n(3),a=n(17),o=n(10),s=n(20),u=n(54),c=n(66),l=n(60),d=n(74),f=n(87),v=n(90),g=n(270),h=n(125),m=n(397);function p(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var b=n(287),y=n.n(b),F=n(624),O=n(76),j=n(1329),E=n(1111),N=n(1328);function k(e){return p(e)}function V(e,t){return Object(E.a)(e,t)}function w(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(N.a)(e,t,n,r);return i}function S(e,t){var n={};return t.forEach((function(t){var r=V(e,t);n=w(n,t,r)})),n}function P(e,t){return e&&e.some((function(e){return M(e,t)}))}function C(e){return"object"===Object(O.a)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function x(e,t){var n=Array.isArray(e)?Object(u.a)(e):Object(s.a)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=C(r)&&C(i);n[e]=a?x(r,i||{}):i})),n):n}function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return x(e,t)}),e)}function M(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function R(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function A(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(Object(u.a)(e.slice(0,n)),[i],Object(u.a)(e.slice(n,t)),Object(u.a)(e.slice(t+1,r))):a<0?[].concat(Object(u.a)(e.slice(0,t)),Object(u.a)(e.slice(t+1,n+1)),[i],Object(u.a)(e.slice(n+1,r))):e}var T="'${name}' is not a valid ${type}",$={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:T,method:T,array:T,object:T,number:T,date:T,boolean:T,integer:T,float:T,regexp:T,email:T,url:T,hex:T},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},_=j.a;function D(e,t,n,r){var i=Object(s.a)(Object(s.a)({},n),{},{name:t,enum:(n.enum||[]).join(", ")}),a=function(e,t){return function(){return function(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}(e,Object(s.a)(Object(s.a)({},i),t))}};return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(i){var o=t[i];"string"===typeof o?n[i]=a(o,r):o&&"object"===Object(O.a)(o)?(n[i]={},e(o,n[i])):n[i]=o})),n}(I({},$,e))}function U(e,t,n,r,i){return L.apply(this,arguments)}function L(){return(L=Object(F.a)(y.a.mark((function e(t,n,i,a,c){var l,d,f,v,g,h;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object(s.a)({},i),d=null,l&&"array"===l.type&&l.defaultField&&(d=l.defaultField,delete l.defaultField),f=new _(Object(o.a)({},t,[l])),v=D(a.validateMessages,t,l,c),f.messages(v),g=[],e.prev=7,e.next=10,Promise.resolve(f.validate(Object(o.a)({},t,n),Object(s.a)({},a)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),e.t0.errors?g=e.t0.errors.map((function(e,t){var n=e.message;return r.isValidElement(n)?r.cloneElement(n,{key:"error_".concat(t)}):n})):(console.error(e.t0),g=[v.default()]);case 15:if(g.length||!d){e.next=20;break}return e.next=18,Promise.all(n.map((function(e,n){return U("".concat(t,".").concat(n),e,d,a,c)})));case 18:return h=e.sent,e.abrupt("return",h.reduce((function(e,t){return[].concat(Object(u.a)(e),Object(u.a)(t))}),[]));case 20:return e.abrupt("return",g);case 21:case"end":return e.stop()}}),e,null,[[7,12]])})))).apply(this,arguments)}function H(e,t,n,r,i,a){var o,u=e.join("."),c=n.map((function(e){var t=e.validator;return t?Object(s.a)(Object(s.a)({},e),{},{validator:function(e,n,r){var i=!1,a=t(e,n,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Object(h.a)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,Object(h.a)(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}}):e}));if(!0===i)o=new Promise(function(){var e=Object(F.a)(y.a.mark((function e(n,i){var o,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<c.length)){e.next=11;break}return e.next=4,U(u,t,c[o],r,a);case 4:if(!(s=e.sent).length){e.next=8;break}return i(s),e.abrupt("return");case 8:o+=1,e.next=1;break;case 11:n([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=c.map((function(e){return U(u,t,e,r,a)}));o=(i?function(e){return q.apply(this,arguments)}(l):function(e){return W.apply(this,arguments)}(l)).then((function(e){return e.length?Promise.reject(e):[]}))}return o.catch((function(e){return e})),o}function W(){return(W=Object(F.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Object(u.a)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(F.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.length&&e(r),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var B=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var i;(Object(c.a)(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=[],i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,k(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat(Object(u.a)(r),Object(u.a)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,s=void 0===o?[]:o,u=r.onReset,c=n.store,l=i.getNamePath(),d=i.getValue(e),f=i.getValue(c),v=t&&P(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=[]),n.type){case"reset":if(!t||v)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=[],u&&u(),void i.refresh();break;case"setField":if(v){var g=n.data;return"touched"in g&&(i.touched=g.touched),"validating"in g&&!("originRCField"in g)&&(i.validatePromise=g.validating?Promise.resolve([]):null),"errors"in g&&(i.errors=g.errors||[]),i.dirty=!0,void i.reRender()}if(a&&!l.length&&G(a,e,c,d,f,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(k).some((function(e){return P(n.relatedFields,e)})))return void i.reRender();break;default:if(v||(!s.length||l.length||a)&&G(a,e,c,d,f,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,s=void 0!==o&&o,u=a.messageVariables,c=(e||{}).triggerName,l=i.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||p(t).includes(c)})));var d=H(t,n,l,e,s,u);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i.validatePromise===r&&(i.validatePromise=null,i.errors=e,i.reRender())})),d}));return i.validatePromise=r,i.dirty=!0,i.errors=[],i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return i.dirty},i.getErrors=function(){return i.errors},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return Object(s.a)(Object(s.a)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=Object(g.a)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return V(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,u=t.normalize,c=t.valuePropName,l=t.getValueProps,d=t.fieldContext,f=void 0!==r?r:d.validateTrigger,v=i.getNamePath(),g=d.getInternalHooks,h=d.getFieldsValue,b=g(m.a),y=b.dispatch,F=i.getValue(),O=l||function(e){return Object(o.a)({},c,e)},j=e[n],E=Object(s.a)(Object(s.a)({},e),O(F));E[n]=function(){var e;i.touched=!0,i.dirty=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):R.apply(void 0,[c].concat(n)),u&&(e=u(e,F,h(!0))),y({type:"updateValue",namePath:v,value:e}),j&&j.apply(void 0,n)};var N=p(f||[]);return N.forEach((function(e){var t=E[e];E[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&y({type:"validateField",namePath:v,triggerName:e})}})),E},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(m.a).initEntityValue)(Object(d.a)(i));return i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(m.a).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):(Object(h.a)(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);B.contextType=m.b,B.defaultProps={trigger:"onChange",valuePropName:"value"};var X=function(e){var t=e.name,n=Object(a.a)(e,["name"]),o=r.useContext(m.b),s=void 0!==t?k(t):void 0,u="keep";return n.isListField||(u="_".concat((s||[]).join("_"))),r.createElement(B,Object(i.a)({key:u,name:s},n,{fieldContext:o}))},z=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,c=r.useContext(m.b),l=r.useRef({keys:[],id:0}).current;if("function"!==typeof i)return Object(h.a)(!1,"Form.List only accepts function as children."),null;var d=k(c.prefixName)||[],f=[].concat(Object(u.a)(d),Object(u.a)(k(t)));return r.createElement(m.b.Provider,{value:Object(s.a)(Object(s.a)({},c),{},{prefixName:f})},r.createElement(X,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=c.getFieldValue,s=function(){return o(f||[])||[]},d={add:function(e,t){var n=s();t>=0&&t<=n.length?(l.keys=[].concat(Object(u.a)(l.keys.slice(0,t)),[l.id],Object(u.a)(l.keys.slice(t))),a([].concat(Object(u.a)(n.slice(0,t)),[e],Object(u.a)(n.slice(t))))):(l.keys=[].concat(Object(u.a)(l.keys),[l.id]),a([].concat(Object(u.a)(n),[e]))),l.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(l.keys=l.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(l.keys=A(l.keys,e,t),a(A(n,e,t)))}}},v=r||[];return Array.isArray(v)||(v=[]),i(v.map((function(e,t){var n=l.keys[t];return void 0===n&&(l.keys[t]=l.id,n=l.keys[t],l.id+=1),{name:t,key:n,isListField:!0}})),d,t)})))},J=n(24);var K="__@field_split__";function Y(e){return e.map((function(e){return"".concat(Object(O.a)(e),":").concat(e)})).join(K)}var Q=function(){function e(){Object(c.a)(this,e),this.kvs=new Map}return Object(l.a)(e,[{key:"set",value:function(e,t){this.kvs.set(Y(e),t)}},{key:"get",value:function(e){return this.kvs.get(Y(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Y(e))}},{key:"map",value:function(e){return Object(u.a)(this.kvs.entries()).map((function(t){var n=Object(J.a)(t,2),r=n[0],i=n[1],a=r.split(K);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=Object(J.a)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),Z=function e(t){var n=this;Object(c.a)(this,e),this.formHooked=!1,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===m.a?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve}):(Object(h.a)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=I({},e,n.store))},this.getInitialValue=function(e){return V(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Q;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=k(e);return t.get(n)||{INVALIDATE_NAME_PATH:k(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),S(n.store,i.map(k))},this.getFieldValue=function(e){n.warningUnhooked();var t=k(e);return V(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors()}:{name:k(e[n]),errors:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=k(e);return n.getFieldsError([t])[0].errors},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(k),s=!1):(i=null,s=a):(i=a.map(k),s=o);var c=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return s?c.every(l):c.some(l);var d=new Q;i.forEach((function(e){d.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&d.update(n,(function(t){return[].concat(Object(u.a)(t),[e])}))}))}));var f=function(e){return e.some(l)},v=d.map((function(e){return e.value}));return s?v.every(f):v.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(k);return t.some((function(e){var t=e.getNamePath();return P(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Q,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Object(h.a)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)Object(h.a)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||(n.store=w(n.store,i,Object(u.a)(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Object(u.a)(Object(u.a)(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=I({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(k);r.forEach((function(e){var t=n.getInitialValue(e);n.store=w(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,Object(a.a)(e,["name","errors"])),o=k(r);"value"in i&&(n.store=w(n.store,o,i.value)),n.notifyObservers(t,[o],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=Object(s.a)(Object(s.a)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===V(n.store,r)&&(n.store=w(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var a=void 0!==r?r:n.preserve;if(!1===a&&(!t||i.length>1)){var o=e.getNamePath(),s=t?void 0:V(n.initialValues,o);o.length&&n.getFieldValue(o)!==s&&n.fieldEntities.every((function(e){return!M(e.getNamePath(),o)}))&&(n.store=w(n.store,o,s,!0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=Object(s.a)(Object(s.a)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=k(e),i=n.store;n.store=w(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var a=n.getDependencyChildrenFields(r);a.length&&n.validateFields(a),n.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[r].concat(Object(u.a)(a))});var o=n.callbacks.onValuesChange;o&&o(S(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Object(u.a)(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=I(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new Q;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=k(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new Q;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return P(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(k):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var u=o.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var c=o.getNamePath();if(!r||P(i,c)){var l=o.validateRules(Object(s.a)({validateMessages:Object(s.a)(Object(s.a)({},$),n.validateMessages)},t));a.push(l.then((function(){return{name:c,errors:[]}})).catch((function(e){return Promise.reject({name:c,errors:e})})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t};var ee=function(e){var t=r.useRef(),n=r.useState({}),i=Object(J.a)(n,2)[1];if(!t.current)if(e)t.current=e;else{var a=new Z((function(){i({})}));t.current=a.getForm()}return[t.current]},te=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ne=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,u=r.useContext(te),c=r.useRef({});return r.createElement(te.Provider,{value:Object(s.a)(Object(s.a)({},u),{},{validateMessages:Object(s.a)(Object(s.a)({},u.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:c.current}),u.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:c.current}),u.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(c.current=Object(s.a)(Object(s.a)({},c.current),{},Object(o.a)({},e,t))),u.registerForm(e,t)},unregisterForm:function(e){var t=Object(s.a)({},c.current);delete t[e],c.current=t,u.unregisterForm(e)}})},a)},re=te,ie=function(e,t){var n=e.name,o=e.initialValues,c=e.fields,l=e.form,d=e.preserve,f=e.children,v=e.component,g=void 0===v?"form":v,h=e.validateMessages,p=e.validateTrigger,b=void 0===p?"onChange":p,y=e.onValuesChange,F=e.onFieldsChange,j=e.onFinish,E=e.onFinishFailed,N=Object(a.a)(e,["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"]),k=r.useContext(re),V=ee(l),w=Object(J.a)(V,1)[0],S=w.getInternalHooks(m.a),P=S.useSubscribe,C=S.setInitialValues,x=S.setCallbacks,I=S.setValidateMessages,M=S.setPreserve;r.useImperativeHandle(t,(function(){return w})),r.useEffect((function(){return k.registerForm(n,w),function(){k.unregisterForm(n)}}),[k,w,n]),I(Object(s.a)(Object(s.a)({},k.validateMessages),h)),x({onValuesChange:y,onFieldsChange:function(e){if(k.triggerFormChange(n,e),F){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];F.apply(void 0,[e].concat(r))}},onFinish:function(e){k.triggerFormFinish(n,e),j&&j(e)},onFinishFailed:E}),M(d);var R=r.useRef(null);C(o,!R.current),R.current||(R.current=!0);var A=f,T="function"===typeof f;T&&(A=f(w.getFieldsValue(!0),w));P(!T);var $=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Object(O.a)(e)||"object"!==Object(O.a)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(Object(u.a)(n),Object(u.a)(r)));return Object(u.a)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})($.current||[],c||[])||w.setFields(c||[]),$.current=c}),[c,w]);var _=r.useMemo((function(){return Object(s.a)(Object(s.a)({},w),{},{validateTrigger:b})}),[w,b]),D=r.createElement(m.b.Provider,{value:_},A);return!1===g?D:r.createElement(g,Object(i.a)({},N,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=N.onReset)||void 0===t||t.call(N,e)}}),D)},ae=r.forwardRef(ie);ae.FormProvider=ne,ae.Field=X,ae.List=z,ae.useForm=ee;t.default=ae}}]);