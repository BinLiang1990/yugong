(this.webpackJsonpyugong=this.webpackJsonpyugong||[]).push([[2],{1834:function(e,t,n){"use strict";var o=n(3),a=n(10),d=n(20),r=n(54),s=n(66),i=n(60),l=n(74),c=n(87),p=n(90),u=n(1),y=n(106),v=n(125),g=n(9),f=n.n(g),h=n(1764),K=n(1763),b=n(1754),k=n(1864),O=n(1756),N=n(1783),E=n(1835),C=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.apply(this,arguments)).destroyed=!1,e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],dragging:!1,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null},e.dragStartMousePosition=null,e.listRef=u.createRef(),e.onNodeDragStart=function(t,n){var o=e.state,a=o.expandedKeys,d=o.keyEntities,r=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var i=Object(K.b)(a,s);e.setState({dragging:!0,dragChildrenKeys:Object(K.g)(s,d),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(i),window.addEventListener("dragend",e.onWindowDragEnd),r&&r({event:t,node:Object(b.b)(n.props)})},e.onNodeDragEnter=function(t,n){var o=e.state,a=o.expandedKeys,d=o.keyEntities,s=o.dragChildrenKeys,i=o.flattenNodes,c=o.indent,p=e.props,u=p.onDragEnter,y=p.onExpand,v=p.allowDrop,g=p.direction,f=n.props.pos,h=Object(l.a)(e).dragNode,k=Object(K.c)(t,h,n,c,e.dragStartMousePosition,v,i,d,a,g),O=k.dropPosition,N=k.dropLevelOffset,E=k.dropTargetKey,C=k.dropContainerKey,j=k.dropTargetPos,x=k.dropAllowed,D=k.dragOverNodeKey;h&&-1===s.indexOf(E)&&x?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),h.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[f]=window.setTimeout((function(){if(e.state.dragging){var o=Object(r.a)(a),s=d[n.props.eventKey];s&&(s.children||[]).length&&(o=Object(K.a)(a,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(o),y&&y(o,{node:Object(b.b)(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),h.props.eventKey!==E||0!==N?(e.setState({dragOverNodeKey:D,dropPosition:O,dropLevelOffset:N,dropTargetKey:E,dropContainerKey:C,dropTargetPos:j,dropAllowed:x}),u&&u({event:t,node:Object(b.b)(n.props),expandedKeys:a})):e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})):e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},e.onNodeDragOver=function(t,n){var o=e.state,a=o.dragChildrenKeys,d=o.flattenNodes,r=o.keyEntities,s=o.expandedKeys,i=o.indent,c=e.props,p=c.onDragOver,u=c.allowDrop,y=c.direction,v=Object(l.a)(e).dragNode,g=Object(K.c)(t,v,n,i,e.dragStartMousePosition,u,d,r,s,y),f=g.dropPosition,h=g.dropLevelOffset,k=g.dropTargetKey,O=g.dropContainerKey,N=g.dropAllowed,E=g.dropTargetPos,C=g.dragOverNodeKey;v&&-1===a.indexOf(k)&&N&&(v.props.eventKey===k&&0===h?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):f===e.state.dropPosition&&h===e.state.dropLevelOffset&&k===e.state.dropTargetKey&&O===e.state.dropContainerKey&&E===e.state.dropTargetPos&&N===e.state.dropAllowed&&C===e.state.dragOverNodeKey||e.setState({dropPosition:f,dropLevelOffset:h,dropTargetKey:k,dropContainerKey:O,dropTargetPos:E,dropAllowed:N,dragOverNodeKey:C}),p&&p({event:t,node:Object(b.b)(n.props)}))},e.onNodeDragLeave=function(t,n){var o=e.props.onDragLeave;o&&o({event:t,node:Object(b.b)(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a&&!o&&a({event:t,node:Object(b.b)(n.props)}),e.dragNode=null},e.onNodeDrop=function(t,n){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.state,s=r.dragChildrenKeys,i=r.dropPosition,l=r.dropTargetKey,c=r.dropTargetPos,p=r.dropAllowed;if(p){var u=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==l){var y=Object(d.a)(Object(d.a)({},Object(b.f)(l,e.getTreeNodeRequiredProps())),{},{active:(null===(o=e.getActiveItem())||void 0===o?void 0:o.data.key)===l,data:e.state.keyEntities[l].node}),g=-1!==s.indexOf(l);Object(v.a)(!g,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var f=Object(K.k)(c),h={event:t,node:Object(b.b)(y),dragNode:e.dragNode?Object(b.b)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(s),dropToGap:0!==i,dropPosition:i+Number(f[f.length-1])};u&&!a&&u(h),e.dragNode=null}}},e.cleanDragState=function(){e.state.dragging&&e.setState({dragging:!1,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null},e.onNodeClick=function(t,n){var o=e.props.onClick;o&&o(t,n)},e.onNodeDoubleClick=function(t,n){var o=e.props.onDoubleClick;o&&o(t,n)},e.onNodeSelect=function(t,n){var o=e.state.selectedKeys,a=e.state.keyEntities,d=e.props,r=d.onSelect,s=d.multiple,i=n.selected,l=n.key,c=!i,p=(o=c?s?Object(K.a)(o,l):[l]:Object(K.b)(o,l)).map((function(e){var t=a[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:o}),r&&r(o,{event:"select",selected:c,node:n,selectedNodes:p,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,o){var a,d=e.state,s=d.keyEntities,i=d.checkedKeys,l=d.halfCheckedKeys,c=e.props,p=c.checkStrictly,u=c.onCheck,y=n.key,v={event:"check",node:n,checked:o,nativeEvent:t.nativeEvent};if(p){var g=o?Object(K.a)(i,y):Object(K.b)(i,y);a={checked:g,halfChecked:Object(K.b)(l,y)},v.checkedNodes=g.map((function(e){return s[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:g})}else{var f=Object(N.a)([].concat(Object(r.a)(i),[y]),!0,s),h=f.checkedKeys,b=f.halfCheckedKeys;if(!o){var k=new Set(h);k.delete(y);var O=Object(N.a)(Array.from(k),{checked:!1,halfCheckedKeys:b},s);h=O.checkedKeys,b=O.halfCheckedKeys}a=h,v.checkedNodes=[],v.checkedNodesPositions=[],v.halfCheckedKeys=b,h.forEach((function(e){var t=s[e];if(t){var n=t.node,o=t.pos;v.checkedNodes.push(n),v.checkedNodesPositions.push({node:n,pos:o})}})),e.setUncontrolledState({checkedKeys:h},!1,{halfCheckedKeys:b})}u&&u(a,v)},e.onNodeLoad=function(t){return new Promise((function(n){e.setState((function(o){var a=o.loadedKeys,d=void 0===a?[]:a,r=o.loadingKeys,s=void 0===r?[]:r,i=e.props,l=i.loadData,c=i.onLoad,p=t.key;return l&&-1===d.indexOf(p)&&-1===s.indexOf(p)?(l(t).then((function(){var o=e.state,a=o.loadedKeys,d=o.loadingKeys,r=Object(K.a)(a,p),s=Object(K.b)(d,p);c&&c(r,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:r}),e.setState({loadingKeys:s}),n()})),{loadingKeys:Object(K.a)(s,p)}):{}}))}))},e.onNodeMouseEnter=function(t,n){var o=e.props.onMouseEnter;o&&o({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var o=e.props.onMouseLeave;o&&o({event:t,node:n})},e.onNodeContextMenu=function(t,n){var o=e.props.onRightClick;o&&(t.preventDefault(),o({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0}),t&&t.apply(void 0,arguments)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null),t&&t.apply(void 0,arguments)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state.treeData,o=Object(b.d)(n,t);e.setUncontrolledState({expandedKeys:t,flattenNodes:o},!0)},e.onNodeExpand=function(t,n){var o=e.state.expandedKeys,a=e.state.listChanging,d=e.props,r=d.onExpand,s=d.loadData,i=n.key,l=n.expanded;if(!a){var c=o.indexOf(i),p=!l;if(Object(v.a)(l&&-1!==c||!l&&-1===c,"Expand state not sync with index check"),o=p?Object(K.a)(o,i):Object(K.b)(o,i),e.setExpandedKeys(o),r&&r(o,{node:n,expanded:p,nativeEvent:t.nativeEvent}),p&&s){var u=e.onNodeLoad(n);u&&u.then((function(){var t=Object(b.d)(e.state.treeData,o);e.setUncontrolledState({flattenNodes:t})}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,o=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),o&&o(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,o=t.flattenNodes;return null===n?null:o.find((function(e){return e.data.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,o=n.flattenNodes,a=n.activeKey,d=o.findIndex((function(e){return e.data.key===a}));-1===d&&t<0&&(d=o.length);var r=o[d=(d+t+o.length)%o.length];if(r){var s=r.data.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,o=n.activeKey,a=n.expandedKeys,r=n.checkedKeys,s=e.props,i=s.onKeyDown,l=s.checkable,c=s.selectable;switch(t.which){case y.a.UP:e.offsetActiveKey(-1),t.preventDefault();break;case y.a.DOWN:e.offsetActiveKey(1),t.preventDefault()}var p=e.getActiveItem();if(p&&p.data){var u=e.getTreeNodeRequiredProps(),v=!1===p.data.isLeaf||!!(p.data.children||[]).length,g=Object(b.b)(Object(d.a)(Object(d.a)({},Object(b.f)(o,u)),{},{data:p.data,active:!0}));switch(t.which){case y.a.LEFT:v&&a.includes(o)?e.onNodeExpand({},g):p.parent&&e.onActiveChange(p.parent.data.key),t.preventDefault();break;case y.a.RIGHT:v&&!a.includes(o)?e.onNodeExpand({},g):p.children&&p.children.length&&e.onActiveChange(p.children[0].data.key),t.preventDefault();break;case y.a.ENTER:case y.a.SPACE:!l||g.disabled||!1===g.checkable||g.disableCheckbox?l||!c||g.disabled||!1===g.selectable||e.onNodeSelect({},g):e.onNodeCheck({},g,!r.includes(o))}}i&&i(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var a=!1,r=!0,s={};Object.keys(t).forEach((function(n){n in e.props?r=!1:(a=!0,s[n]=t[n])})),!a||n&&!r||e.setState(Object(d.a)(Object(d.a)({},s),o))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"render",value:function(){var e,t=this.state,n=t.focused,d=t.flattenNodes,r=t.keyEntities,s=t.dragging,i=t.activeKey,l=t.dropLevelOffset,c=t.dropContainerKey,p=t.dropTargetKey,y=t.dropPosition,v=t.dragOverNodeKey,g=t.indent,b=this.props,O=b.prefixCls,N=b.className,E=b.style,C=b.showLine,j=b.focusable,x=b.tabIndex,D=void 0===x?0:x,P=b.selectable,S=b.showIcon,w=b.icon,L=b.switcherIcon,T=b.draggable,m=b.checkable,A=b.checkStrictly,I=b.disabled,M=b.motion,R=b.loadData,U=b.filterTreeNode,W=b.height,F=b.itemHeight,q=b.virtual,B=b.titleRender,H=b.dropIndicatorRender,G=b.onContextMenu,J=b.direction,X=Object(K.f)(this.props);return u.createElement(h.a.Provider,{value:{prefixCls:O,selectable:P,showIcon:S,icon:w,switcherIcon:L,draggable:T,checkable:m,checkStrictly:A,disabled:I,keyEntities:r,dropLevelOffset:l,dropContainerKey:c,dropTargetKey:p,dropPosition:y,dragOverNodeKey:v,indent:g,direction:J,dropIndicatorRender:H,loadData:R,filterTreeNode:U,titleRender:B,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},u.createElement("div",{className:f()(O,N,(e={},Object(a.a)(e,"".concat(O,"-show-line"),C),Object(a.a)(e,"".concat(O,"-focused"),n),Object(a.a)(e,"".concat(O,"-active-focused"),null!==i),e))},u.createElement(k.c,Object(o.a)({ref:this.listRef,prefixCls:O,style:E,data:d,disabled:I,selectable:P,checkable:!!m,motion:M,dragging:s,height:W,itemHeight:F,virtual:q,focusable:j,focused:n,tabIndex:D,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:G},this.getTreeNodeRequiredProps(),X))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,o=t.prevProps,r={prevProps:e};function s(t){return!o&&t in e||o&&o[t]!==e[t]}if(s("treeData")?n=e.treeData:s("children")&&(Object(v.a)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=Object(b.c)(e.children)),n){r.treeData=n;var i=Object(b.a)(n);r.keyEntities=Object(d.a)(Object(a.a)({},k.a,k.b),i.keyEntities)}var l,c=r.keyEntities||t.keyEntities;if(s("expandedKeys")||o&&s("autoExpandParent"))r.expandedKeys=e.autoExpandParent||!o&&e.defaultExpandParent?Object(K.e)(e.expandedKeys,c):e.expandedKeys;else if(!o&&e.defaultExpandAll){var p=Object(d.a)({},c);delete p[k.a],r.expandedKeys=Object.keys(p).map((function(e){return p[e].key}))}else!o&&e.defaultExpandedKeys&&(r.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Object(K.e)(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,n||r.expandedKeys){var u=Object(b.d)(n||t.treeData,r.expandedKeys||t.expandedKeys);r.flattenNodes=u}if((e.selectable&&(s("selectedKeys")?r.selectedKeys=Object(K.d)(e.selectedKeys,e):!o&&e.defaultSelectedKeys&&(r.selectedKeys=Object(K.d)(e.defaultSelectedKeys,e))),e.checkable)&&(s("checkedKeys")?l=Object(K.j)(e.checkedKeys)||{}:!o&&e.defaultCheckedKeys?l=Object(K.j)(e.defaultCheckedKeys)||{}:n&&(l=Object(K.j)(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),l)){var y=l,g=y.checkedKeys,f=void 0===g?[]:g,h=y.halfCheckedKeys,O=void 0===h?[]:h;if(!e.checkStrictly){var E=Object(N.a)(f,!0,c);f=E.checkedKeys,O=E.halfCheckedKeys}r.checkedKeys=f,r.halfCheckedKeys=O}return s("loadedKeys")&&(r.loadedKeys=e.loadedKeys),r}}]),n}(u.Component);C.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:E.a,allowDrop:function(){return!0}},C.TreeNode=O.a,t.a=C}}]);